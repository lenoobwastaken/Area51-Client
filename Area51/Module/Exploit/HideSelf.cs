using Area51.SDK;
using VRC.Core;

namespace Area51.Module.Exploit
{
	internal class HideSelf : BaseModule
	{
		public HideSelf()
			: base("Hide Self", "Unloads your Avatar", Main.Instance.PlayerButton, null, isToggle: true)
		{
		}

		public override void OnDisable()
		{
			PlayerWrapper.ClearAssets();
			PlayerWrapper.ShowSelf(state: true);
			PlayerWrapper.ChangeAvatar(PlayerWrapper.backupID);
		}

		public override void OnEnable()
		{
			PlayerWrapper.backupID = APIUser.CurrentUser.avatarId;
			PlayerWrapper.ShowSelf(state: false);
		}
	}
}
