using System;
using System.Net;
using System.Threading.Tasks;
using Area51.SDK;

namespace Area51.Module.Exploit
{
	internal class VRCW : BaseModule
	{
		public VRCW()
			: base("Downloads VRCW", "Downloads VRCW", Main.Instance.Avatarexploitbutton, ButtonIcons.DownloadIcon)
		{
		}

		public override void OnEnable()
		{
			Task.Run(delegate
			{
				WebClient webClient = new WebClient
				{
					Headers = { "User-Agent: Other" }
				};
				webClient.DownloadFileAsync(new Uri(RoomManager.field_Internal_Static_ApiWorld_0.assetUrl), "Area51/VRCW/" + RoomManager.field_Internal_Static_ApiWorld_0.name);
				LogHandler.Log(LogHandler.Colors.Green, "Downloaded VRCW Completed");
			});
		}
	}
}
